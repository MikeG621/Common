<HTML>
<HEAD>
<TITLE>Idmr.Common Namespace</TITLE>
<style type="text/css">a{color:#ccc} body{color:#666; background-color:#000} span{color:#088} h2,h3,h4{color:#aaa}</style>
</HEAD>

<BODY>
<h1>Idmr.Common Namespace</h1>
<u>Provides various classes used throughout IDMR software</u><BR><BR>
<B>Assembly:</B> Idmr.Common.dll<BR>
<B>Additional References:</B><BR>
&nbsp;&nbsp;&nbsp;System.Drawing<br>
<B>Version:</B> 2.0<BR>
<hr>

<div>
<h2>ArrayFunction Class</h2>
<img src="images/class.gif"> <span><b>public</b> class</span> ArrayFunctions<br>
<u>Primarily a wrapper for Buffer.BlockCopy</u>

<h3>Methods</h3>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static string</span> ReadStringFromArray(<span>byte</span>[] array, <span>int</span> offset, <span>int</span> length)<br>
<u>Retrieves the ASCII string from the byte array with the given location and length</u>. String is assumed to be ASCII-encoded, trims null chars<br>
<i>array</i> - The raw byte array<br>
<i>offset</i> - The location of the starting character<br>
<i>length</i> - The number of characters to read</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> TrimArray(<span>byte</span>[] fullArray, <span>int</span> offset, <span>byte</span>[] trimmedArray)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> TrimArray(<span>byte</span>[] fullArray, <span>int</span> offset, <span>short</span>[] trimmedArray)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> TrimArray(<span>short</span>[] fullArray, <span>int</span> offset, <span>short</span>[] trimmedArray)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> TrimArray(<span>byte</span>[] fullArray, <span>int</span> offset, <span>int</span>[] trimmedArray)<br>
<u>Using <i>fullArray</i> starting at <i>offset</i>, fill <i>trimmedArray</i></u><br>
<i>fullArray</i> - The original array<br>
<i>offset</i> - The starting location in <i>fullArray</i><br>
<i>trimmedArray</i> - The array to fill with copied values</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>int</span> value, <span>byte[]</span> array, <span><b>ref</b> int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>short</span> value, <span>byte[]</span> array, <span><b>ref</b> int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>string</span> value, <span>byte[]</span> array, <span><b>ref</b> int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>byte</span>[] value, <span>byte[]</span> array, <span><b>ref</b> int</span> offset)<br>
<u>Copy <i>value</i> to the array at <i>offset</i> and increment</u><br>
<i>value</i> - The value to be copied to the array<br>
<i>array</i> - The array to which <i>value</i> is to be copied<br>
<i>offset</i> - The offset of the starting byte in the array, will be incremented the byte length of <i>value</i></p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>int</span> value, <span>byte[]</span> array, <span>int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>short</span> value, <span>byte[]</span> array, <span>int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>string</span> value, <span>byte[]</span> array, <span>int</span> offset)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> WriteToArray(<span>byte</span>[] value, <span>byte[]</span> array, <span>int</span> offset)<br>
<u>Copy <i>value</i> to the array at <i>offset</i></u><br>
<i>value</i> - The value to be copied to the array<br>
<i>array</i> - The array to which <i>value</i> is to be copied<br>
<i>offset</i> - The offset of the starting byte in the array</p>
</div>
<hr>

<div>
<h2>BoundaryException class</h2>
<img src="images/class.gif"> [Serializable] <span><b>public</b> class</span> BoundaryException : <i>Exception</i><br>
<u>Exception typically used in Idmr code for 2-dimensional areas</u>

<h3>Constructors</h3>

<p><img src="images/meth.gif"> <span><b>public</b></span> BoundaryException( )<br>
<u>Creates a new Exception</u></p>

<p><img src="images/meth.gif"> <span><b>public</b></span> BoundaryException(<span>string</span> message)<br>
<img src="images/meth.gif"> <span><b>public</b></span> BoundaryException(<span>string</span> message, <span>Exception</span> innerEx)<br>
<u>Creates a new exception with a specified error message and a reference to the initial exception</u>. <i>innerEx.Message</i> is appended if used<br>
<i>message</i> - The specified error message<br>
<i>innerEx</i> - The initial Exception</p>

<p><img src="images/meth.gif"> <span><b>public</b></span> BoundaryException(<span>string</span> param, <span>string</span> limits)<br>
<img src="images/meth.gif"> <span><b>public</b></span> BoundaryException(<span>string</span> param, <span>string</span> limits, <span>Exception</span> innerEx)<br>
<u>Creates a new exception with a standardized error message</u>. Message is in the form "Parameter '<i>param</i>' is not within acceptable limits ('<i>limits</i>')". <i>innerEx.Message</i> is appended if used<br>
<i>param</i> - The parameter that caused the exception<br>
<i>limits</i> - Acceptable range for <i>param</i><br>
<i>innerEx</i> - The initial Exception</p>

<p><img src="images/protmeth.gif"> <span><b>protected</b></span> BoundaryException(System.Runtime.Serialization.<span>SerializationInfo</span> info, System.Runtime.Serialization.<span>StreamingContext</span> context)<br>
<u>Creates a new exception using serialized data</u></p>
</div>
<hr>

<div>
<h2>GraphicsFunctions Class</h2>
<img src="images/class.gif"> <span><b>public</b> class</span> GraphicsFunctions<br>
<u>Graphics functions commonly used in Idmr software</u>

<h3>Methods</h3>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static byte</span> PaletteIndex(<span>byte</span> red, <span>byte</span> green, <span>byte</span> blue, System.Drawing.<span>ColorPalette</span> palette)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static byte</span> PaletteIndex(System.Drawing.<span>Color</span> color, System.Drawing.<span>ColorPalette</span> palette)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static byte</span> PaletteIndex(<span>byte</span> red, <span>byte</span> green, <span>byte</span> blue, System.Drawing.<span>Color</span>[] colors)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static byte</span> PaletteIndex(System.Drawing.<span>Color</span> color, System.Drawing.<span>Color</span>[] colors)<br>
<u>Returns the first palette index of the closest match to the desired color</u><br>
<i>red</i> - The R component of the desired color<br>
<i>green</i> - The G component of the desired color<br>
<i>blue</i> - The B component of the desired color<br>
<i>color</i> - The desired color<br>
<i>colors</i> - The Color array being used<br>
<i>palette</i> - The Palette being used</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>Bitmap</span> ConvertTo8bpp(System.Drawing.<span>Bitmap</span> image, System.Drawing.<span>ColorPalette</span> palette)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>Bitmap</span> ConvertTo8bpp(System.Drawing.<span>Bitmap</span> image, System.Drawing.<span>Color</span>[] colors)<br>
<u>Returns an 8bppIndexed Bitmap of the given image</u><br>
<i>image</i> - The image to be converted<br>
<i>colors</i> - The array of Colors to be used<br>
<i>palette</i> - The palette to be used</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>Bitmap</span> ConvertTo1bpp(System.Drawing.<span>Bitmap</span> image)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>Bitmap</span> ConvertTo1bpp(System.Drawing.<span>Bitmap</span> image, System.Drawing.<span>Color</span> transparent)<br>
<u>Returns a 1bppIndexed Bitmap of the given image</u>. Black (#000) is used if <i>transparent</i> is omitted<br>
<i>image</i> - The image to be converted<br>
<i>transparent</i> - The color to be used for transparency</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> CopyImageToBytes(System.Drawing.<span>BitmapData</span> imageData, <span>byte</span>[] bytes)<br>
<u>Wrapper for the appropriate Marshal.Copy overload</u><br>
<i>bytes</i> - The byte array to be used for the pixel data<br>
<i>imageData</i> - The BitmapData object for the image<br>
<b>Exceptions</b><br>
<i>System.ArgumentException</i> - <i>bytes</i> is not the correct length for <i>imageData</i></p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static void</span> CopyBytesToImage(<span>byte</span>[] bytes, System.Drawing.<span>BitmapData</span> imageData)<br>
<u>Wrapper for the appropriate Marshal.Copy overload</u><br>
<i>imageData</i> - The BitmapData object for the image<br>
<i>bytes</i> - The byte array to be used for the pixel data<br>
<b>Exceptions</b><br>
<i>System.ArgumentException</i> - <i>bytes</i> is not the correct length for <i>imageData</i></p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>BitmapData</span> GetBitmapData(System.Drawing.<span>Bitmap</span> image)<br>
<u>Returns the BitmapData object for the given image</u><br>
<i>image</i> - The image</p>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static</span> System.Drawing.<span>Color</span>[] GetTrimmedColors(System.Drawing.<span>Bitmap</span> image)<br>
<u>Returns the array of only Colors used in an 8bppIndexed image</u>. <i>image</i> is parsed and all color indexes that are not used are removed. <i>image</i> is updated<br>
<i>image</i> - The image to parse, will be modified<br>
<b>Exceptions</b><br>
<i>System.ArgumentException</i> - <i>image</i> is not 8bppIndexed</p>
</div>
<hr>

<div>
<h2>LoadFileException class</h2>
<img src="images/class.gif"> [Serializable] <span><b>public</b> class</span> LoadFileException : <i>Exception</i><br>
<u>Exception for file load failures, typically uses innerException</u>

<h3>Constructors</h3>

<p><img src="images/meth.gif"> <span><b>public</b></span> LoadFileException( )<br>
<img src="images/meth.gif"> <span><b>public</b></span> LoadFileException(<span>string</span> message)<br>
<img src="images/meth.gif"> <span><b>public</b></span> LoadFileException(<span>string</span> message, <span>Exception</span> innerEx)<br>
<img src="images/meth.gif"> <span><b>public</b></span> LoadFileException(<span>Exception</span> innerEx)<br>
<u>Creates a new exception</u>. If <i>message</i> is omitted it defaults to "File could not be loaded". <i>innerEx.Message</i> is appended if used<br>
<i>message</i> - The specified error message<br>
<i>innerEx</i> - The initial Exception</p>

<p><img src="images/protmeth.gif"> <span><b>protected</b></span> LoadFileException(System.Runtime.Serialization.<span>SerializationInfo</span> info, System.Runtime.Serialization.<span>StreamingContext</span> context)<br>
<u>Creates a new exception using serialized data</u></p>
</div>
<hr>

<div>
<h2>SaveFileException class</h2>
<img src="images/class.gif"> [Serializable] <span><b>public</b> class</span> SaveFileException : <i>Exception</i><br>
<u>Exception for file save failures, typically uses innerException</u>

<h3>Constructors</h3>

<p><img src="images/meth.gif"> <span><b>public</b></span> SaveFileException( )<br>
<img src="images/meth.gif"> <span><b>public</b></span> SaveFileException(<span>string</span> message)<br>
<img src="images/meth.gif"> <span><b>public</b></span> SaveFileException(<span>string</span> message, <span>Exception</span> innerEx)<br>
<img src="images/meth.gif"> <span><b>public</b></span> SaveFileException(<span>Exception</span> innerEx)<br>
<u>Creates a new exception</u>. If <i>message</i> is omitted it defaults to "File could not be saved". <i>innerEx.Message</i> is appended if used<br>
<i>message</i> - The specified error message<br>
<i>innerEx</i> - The initial Exception</p>

<p><img src="images/protmeth.gif"> <span><b>protected</b></span> SaveFileException(System.Runtime.Serialization.<span>SerializationInfo</span> info, System.Runtime.Serialization.<span>StreamingContext</span> context)<br>
<u>Creates a new exception using serialized data</u></p>
</div>
<hr>

<div>
<h2>StringFunctions Class</h2>
<img src="images/class.gif"> <span><b>public</b> class</span> StringFunctions<br>
<u>Class for common string functions</u>

<h3>Methods</h3>

<p><img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static string</span> GetFileName(<span>string</span> filePath)<br>
<img src="images/static.gif"><img src="images/meth.gif"> <span><b>public</b> static string</span> GetFileName(<span>string</span> filePath, <span>bool</span> withExtension)<br>
<u>Returns the file name and extension given the full path</u>. <i>withExtension</i> defaults to <i>true</i> if omitted<br>
<i>filePath</i> - The full path<br>
<i>withExtension</i> - Determines if the file extension is returned with the file name</p>
</div>
<hr>

Copyright (C) 2009-2011 Michael Gaisser (mjgaisser@gmail.com)<BR><BR>
This library is free software, distributed under the <a href="http://www.gnu.org/licenses/gpl.html" target=_blank>GNU General Public License</a>.<br>
This documentation and items contained herein are distributed under the <a href="http://www.gnu.org/licenses/fdl.html" target=_blank>GNU Free Documentation License</a>.<br>
Publish date: 29 Nov 2011
<HR>
</BODY>
</HTML>